<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Energy Management Monitor Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Kanit font -->
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="newdash.css" />
</head>
<body>
  <div class="dashboard">
    <div class="dashboard-overlay"></div>

    <div class="dashboard-content">
      <!-- Header -->
      <header class="top-bar">
        <div class="top-left">
          <div class="logo">
            <!-- ใช้ตัวอักษรแทนโลโก้จริง สามารถใส่ <img> แทนได้ -->
            <div class="logo-mark">
              <img src="ThaipbsLogo.png" class="logo-img" alt="Thai PBS Logo">
            </div>
          </div>
          <div class="top-text">
            <h1>Energy Management Monitor Dash Board</h1>
            <div class="today-pill">Today</div>
          </div>
        </div>
        <div class="top-right">อาคาร A</div>
      </header>

      <!-- Cards -->
      <main class="cards-grid">
        <!-- PM2.5 card -->
        <section class="card card-pm25">
          <div class="card-inner">
            <div class="card-section card-section-top">
              <div class="card-title-row">
                <h2 class="card-title-lg">PM2.5</h2>
                <p class="card-subtitle card-subtitle-inline">ภายในอาคาร</p>
              </div>
                <div class="pm-gauge-wrapper">
                  <svg class="pm-gauge" viewBox="-15 0 220 120">
                    <!-- พื้นหลังโค้งจาง ๆ (รัศมี 70, ขยับเข้ามา 30–170) -->
                    <path d="M30 110 A70 70 0 0 1 170 110" class="pm-arc-bg" />

                    <!-- ดีมาก (ฟ้า) 0–15 -->
                    <path d="M30 110 A70 70 0 0 1 35.3 83.2" class="seg-blue" />
                    <!-- ดี (เขียว) 15–25 -->
                    <path d="M35.3 83.2 A70 70 0 0 1 44.5 67.4" class="seg-green" />
                    <!-- ปานกลาง (เหลือง) 25–37.5 -->
                    <path d="M44.5 67.4 A70 70 0 0 1 61.1 51.8" class="seg-yellow" />
                    <!-- เริ่มมีผลกระทบ (ส้ม) 37.5–75 -->
                    <path d="M61.1 51.8 A70 70 0 0 1 126.8 45.3" class="seg-orange" />
                    <!-- มีผลกระทบ (แดง) 75–120 -->
                    <path d="M126.8 45.3 A70 70 0 0 1 170 110" class="seg-red" />

                    <!-- เข็ม -->
                    <line id="pm-pointer-indoor" x1="100" y1="110" x2="100" y2="55"></line>

                    <!-- ตัวเลขรอบเกจ -->
                    <!-- ฝั่งซ้าย ใช้ pm-label-left -->
                    <text class="pm-label pm-label-left"  x="-4"  y="112">0</text>
                    <text class="pm-label pm-label-left"  x="3"  y="72">15</text>
                    <text class="pm-label pm-label-left"  x="18"  y="46">25</text>

                    <!-- ตรงกลาง ใช้ anchor ปกติ -->
                    <text class="pm-label"               x="40" y="19">37.5</text>

                    <!-- ฝั่งขวา ใช้ pm-label-right -->
                    <text class="pm-label pm-label-right" x="137" y="13">75</text>

                  </svg>
                </div>
                  <div class="pm-bottom-value">
                    <div class="pm-bottom-number">
                      <span id="pm-value-indoor">18.2</span>
                    </div>
                    <div class="pm-bottom-unit">มคก./ลบ.ม.</div>
                  </div>
            </div>

<div class="card-section card-section-bottom">
  <div class="card-title-row">
    <h2 class="card-title-lg">PM2.5</h2>
    <p class="card-subtitle card-subtitle-inline">ภายนอกอาคาร</p>
  </div>

  <div class="gauge-wrapper gauge-wrapper-outdoor">

                <!-- ใช้เกจแบบเดียวกับด้านบน แต่ย่อขนาดลง -->
                <div class="pm-gauge-wrapper pm-gauge-wrapper-outdoor">
                  <svg class="pm-gauge" viewBox="-15 0 220 120">
                    <!-- พื้นหลังโค้ง -->
                    <path d="M30 110 A70 70 0 0 1 170 110" class="pm-arc-bg" />

                    <!-- segment สี -->
                    <path d="M30 110 A70 70 0 0 1 35.3 83.2" class="seg-blue" />
                    <path d="M35.3 83.2 A70 70 0 0 1 44.5 67.4" class="seg-green" />
                    <path d="M44.5 67.4 A70 70 0 0 1 61.1 51.8" class="seg-yellow" />
                    <path d="M61.1 51.8 A70 70 0 0 1 126.8 45.3" class="seg-orange" />
                    <path d="M126.8 45.3 A70 70 0 0 1 170 110" class="seg-red" />

                    <!-- เข็มภายนอกอาคาร -->
                    <line id="pm-pointer-outdoor" x1="100" y1="110" x2="100" y2="55"></line>

                    <!-- ตัวเลขรอบเกจ -->
                    <text class="pm-label pm-label-left"  x="-4"  y="112">0</text>
                    <text class="pm-label pm-label-left"  x="3"   y="72">15</text>
                    <text class="pm-label pm-label-left"  x="18"  y="46">25</text>
                    <text class="pm-label"                x="40"  y="19">37.5</text>
                    <text class="pm-label pm-label-right" x="137" y="13">75</text>
                  </svg>
                </div>

                <!-- ตัวเลขด้านล่างเกจ -->
                <div class="pm-bottom-value">
                  <div class="pm-bottom-number">
                    <span id="pm-value-outdoor">55.1</span>
                  </div>
                  <div class="pm-bottom-unit">มคก./ลบ.ม.</div>
                </div>
              </div>
            </div>

          </div>
        </section>

        <!-- Carbon footprint / energy -->
        <section class="card card-carbon">
          <div class="card-inner">
            <div class="card-section card-section-top carbon-top">
              <h2 class="card-title">Carbon footprint</h2>
              <div class="carbon-values">
                <div class="carbon-col">
                  <div class="carbon-number">0</div>
                  <div class="carbon-unit">Kg of CO₂</div>
                  <div class="carbon-label">เมื่อวาน</div>

                  <div class="carbon-bar-wrap">
                    <div class="carbon-bar bar-yesterday"></div>
                  </div>
                </div>
                <div class="carbon-col">
                  <div class="carbon-number">0</div>
                  <div class="carbon-unit">Kg of CO₂</div>
                  <div class="carbon-label">วันนี้</div>

                  <div class="carbon-bar-wrap">
                    <div class="carbon-bar bar-today"></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card-section card-section-bottom carbon-bottom">
              <h3 class="card-title">พลังงานที่ใช้</h3>

              <div class="donut-wrapper">
                <svg class="donut js-donut" viewBox="0 0 120 120" data-percent="0">
                  <circle class="donut-bg" cx="60" cy="60" r="45"></circle>
                  <circle class="donut-ring" cx="60" cy="60" r="45"></circle>
                </svg>
                <div class="donut-center">
                  <div class="donut-value">0</div>
                  <div class="donut-unit">kWh</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Real-time power / water equivalent -->
        <section class="card card-power">
          <div class="card-inner">
            <div class="card-section card-section-top power-top">
              <h2 class="card-title">Real-Time Power<br /></h2>

              <div class="donut-wrapper donut-wrapper-large">
                <svg class="donut js-donut" viewBox="0 0 120 120" data-percent="0">
                  <circle class="donut-bg" cx="60" cy="60" r="45"></circle>
                  <circle class="donut-ring donut-ring-power" cx="60" cy="60" r="45"></circle>
                </svg>
                <div class="donut-center power-center">
                  <div class="donut-value big">0</div>
                  <div class="donut-unit">kW</div>
                </div>
              </div>
            </div>
            <div class="card-section card-section-bottom power-bottom">
              <h3 class="card-title-sm">เทียบเท่าการใช้น้ำ</h3>
              <p class="value-text-large">
                <span class="value-number" id="water-bottles-per-hour">0</span>
                <span class="value-unit">ขวด/ชั่วโมง</span>
              </p>

              <p class="water-liters-text">
                <span id="water-liters-per-hour">0</span> ลิตร/ชั่วโมง
              </p>

                <div class="bottle-row">
                  <!-- ขวดที่ 1 -->
                  <svg class="water-bottle" viewBox="0 0 40 100" aria-hidden="true">
                    <defs>
                      <linearGradient id="waterGradBottle" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#4fc3f7" />
                        <stop offset="100%" stop-color="#0288d1" />
                      </linearGradient>
                    </defs>
                    <!-- ตัวขวด (อ้วนขึ้น) -->
                    <rect x="6" y="6" width="28" height="70" rx="12" ry="12" fill="#ffffff" />
                    <!-- ฝาขวด -->
                    <rect x="10" y="0" width="20" height="14" rx="6" ry="6" fill="#ffffff" />
                    <!-- น้ำในขวด -->
                    <rect x="6" y="40" width="28" height="36" fill="url(#waterGradBottle)" />
                  </svg>

                  <!-- ขวดที่ 2 -->
                  <svg class="water-bottle" viewBox="0 0 40 100" aria-hidden="true">
                    <rect x="6" y="6" width="28" height="70" rx="12" ry="12" fill="#ffffff" />
                    <rect x="10" y="0" width="20" height="14" rx="6" ry="6" fill="#ffffff" />
                    <rect x="6" y="40" width="28" height="36" fill="url(#waterGradBottle)" />
                  </svg>

                  <!-- ขวดที่ 3 -->
                  <svg class="water-bottle" viewBox="0 0 40 100" aria-hidden="true">
                    <rect x="6" y="6" width="28" height="70" rx="12" ry="12" fill="#ffffff" />
                    <rect x="10" y="0" width="20" height="14" rx="6" ry="6" fill="#ffffff" />
                    <rect x="6" y="40" width="28" height="36" fill="url(#waterGradBottle)" />
                  </svg>
                </div>

              <p class="bottle-caption">ขนาด 1.5 ลิตร</p>
            </div>
          </div>
        </section>

        <!-- Temperature / sunrise-sunset -->
        <section class="card card-env">
          <div class="card-inner">

            <!-- ส่วนบน: อุณหภูมิ ภายใน / ภายนอก -->
            <div class="card-section card-section-top env-top">
              <h2 class="env-title">อุณหภูมิ/ความชื้น</h2>

              <div class="env-layout">
                <!-- ไอคอนเทอร์โมมิเตอร์ -->
                <div class="temp-icon temp-icon-large">
                  <div class="thermo-body">
                    <div class="thermo-inner"></div>
                  </div>
                </div>

                <!-- ข้อความด้านขวา -->
                <div class="env-text-column">
                  <!-- ภายในอาคาร -->
                  <div class="env-block env-block-indoor">
                    <div class="env-location">ภายในอาคาร</div>
                    <div class="env-main">28°C / 60%</div>
                    <div class="env-label">อุณหภูมิ / ความชื้น</div>
                  </div>

                  <!-- ภายนอกอาคาร -->
                  <div class="env-block env-block-outdoor">
                    <div class="env-location">ภายนอกอาคาร</div>
                    <div class="env-main">0°C / 0%</div>
                    <div class="env-label">อุณหภูมิ / ความชื้น</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ส่วนล่าง: Date / Time -->
            <div class="card-section card-section-bottom env-bottom dt-card">
              <div class="dt-title">Date / Time</div>

              <div class="dt-time">
                <span id="dt-hm">00:00</span><span id="dt-sec">:00</span>
              </div>

              <div class="dt-weekday" id="dt-weekday">วันจันทร์</div>
              <div class="dt-date" id="dt-date">1 มกราคม 2568</div>
            </div>

          </div>
        </section>


      </main>
    </div>
  </div>

  <!-- JS -->
  <script src="mqtt.min.js"></script>
  <script src="newdash.js"></script>
</body>
</html>
